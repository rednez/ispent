fragment CurrencyBase on Currency {
  id
  name
}

fragment CategoryBase on Category {
  id
  name
}

fragment GroupBase on Group {
  id
  name
}

fragment GroupWithCategories on Group {
  id
  name
  categories {
    ...CategoryBase
  }
}

fragment BudgetRecordBase on BudgetRecord {
  amount
  currency {
    ...CurrencyBase
  }
  category {
    ...CategoryBase
  }
  group {
    ...GroupBase
  }
  date
}

fragment OperationBase on Operation {
  id
  amount
  currency {
    ...CurrencyBase
  }
  category {
    ...CategoryBase
    color
  }
  group {
    ...GroupBase
    color
  }
  dateTime
  withdrawalAmount
  withdrawalCurrencyId
  comment
}

query CurrenciesGroupsCategories {
  currencies {
    ...CurrencyBase
  }
  groups {
    ...GroupBase
    color
  }
  categories {
    ...CategoryBase
    color
  }
}

query CurrenciesGroups {
  currencies {
    ...CurrencyBase
  }
  groups {
    ...GroupWithCategories
  }
}

query Currencies {
  currencies {
    ...CurrencyBase
  }
}

query Groups {
  groups {
    ...GroupWithCategories
  }
}

query Group($id: Int!) {
  group(id: $id) {
    ...GroupBase
    color
    categories {
      ...CategoryBase
      color
    }
  }
}

query Operations($params: OperationsParams!) {
  operations(params: $params) {
    ...OperationBase
    withdrawalCurrencyName
  }
}

query Operation($operationId: Int!) {
  operation(id: $operationId) {
    ...OperationBase
  }
}


query BudgetsSummaries($params: BudgetSummaryParams!) {
  budgetsSummary(params: $params) {
    parentId
    title
    planned
    spent
    color
    type
  }
}


query Budgets($params: BudgetsParams!) {
  budgets(params: $params) {
    ...BudgetRecordBase
    prevPlannedAmount
    prevSpentAmount
  }
}

query CurrenciesGroupsBudgets($params: BudgetsParams!) {
  currencies {
    ...CurrencyBase
  }
  groups {
    ...GroupWithCategories
  }
  budgets(params: $params) {
    ...BudgetRecordBase
    prevPlannedAmount
    prevSpentAmount
  }
}

mutation RecreateBudgetsRecords($inputs: [CreateBudgetRecordInput!]!) {
  recreateManyBudgetsRecords(inputs: $inputs) {
    ...BudgetRecordBase
  }
}

mutation GenerateBudgetsRecords($date: String!) {
  generateManyBudgetsRecords(date: $date) {
    ...BudgetRecordBase
    prevPlannedAmount
    prevSpentAmount
  }
}

mutation DeleteOperation($id: Int!) {
  deleteOperation(id: $id) {
    id
  }
}

mutation UpdateOperation($params: OperationUpdateInput!) {
  updateOperation(params: $params) {
    ...OperationBase
  }
}

mutation CreateOperation($params: OperationCreateInput!) {
  createOperation(params: $params) {
    ...OperationBase
  }
}

mutation CreateCurrency($name: String!) {
  createCurrency(name: $name) {
    ...CurrencyBase
  }
}

mutation CreateGroup($params: GroupCreateInput!) {
  createGroup(params: $params) {
    ...GroupBase
    color
  }
}

mutation CreateCategory($params: CategoryCreateInput!) {
  createCategory(params: $params) {
    ...CategoryBase
    color
  }
}
